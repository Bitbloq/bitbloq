# import Upload, Number, ObjectID from "./scalars.graphql"

type File {
  id: ID!
  filename: String
  mimetype: String
  publicUrl: String
  document: ObjectID
  size: Number
  storageName: String
}

type CloudResourcesResult {
  resources: [Resource]
  pagesNumber: Number
}
type Resource {
  id: ID
  title: String
  type: String
  thumbnail: String
  preview: String
  size: Number
}

type Query {
  uploads: [File] @authRequired(requires: [ADMIN])
  getUserFiles: [File] @authRequired(requires: [USER])
  cloudResources(
    type: String
    currentPage: Number
    order: String
    searchTitle: String    
  ): CloudResourcesResult @authRequired(requires: [USER])
}

type Mutation {
  singleUpload(file: Upload!, documentID: ObjectID): File
  uploadSTLFile(file: Upload!, documentID: ObjectID): File
    @authRequired(requires: [USER])
  uploadImageFile(file: Upload!, documentID: ObjectID): File
    @authRequired(requires: [USER])
  deleteUserFile(filename: String!): File @authRequired(requires: [USER])
}
